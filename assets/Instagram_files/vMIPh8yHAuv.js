;/*FB_PKG_DELIM*/

__d("IGDChatTabsThreadContainer_SlideThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDChatTabsThreadContainer_SlideThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDChatTabsThreadDetail_SlideThread"}],type:"SlideThread",abstractKey:null};e.exports=a}),null);
__d("IGDChatTabsThreadDetail_SlideThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__IGDProjectCannesEnabledGKrelayprovider"}],kind:"Fragment",metadata:null,name:"IGDChatTabsThreadDetail_SlideThread",selections:[{condition:"__relay_internal__pv__IGDProjectCannesEnabledGKrelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerForCannes_Slide"}],type:"SlideThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"slide_thread"}]}],type:"SlideThread",abstractKey:null};e.exports=a}),null);
__d("IGDChatTabsAvatar.react",["IGDAvatar.react","react","usePresenceUnifiedIsThreadActive"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.size,d=a.thread,e=c("usePresenceUnifiedIsThreadActive")(d.threadKey);return j(function(){return i.jsx(c("IGDAvatar.react"),{groupThreadSize:"tiny",isActive:e===!0,size:b!=null?b:"small",thread:d})},[e,b,d])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadHeaderContainer.react",["I64","IGDChatTabsAvatar.react","IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNavigation","IGDProfileLinkOrFragment.react","IGDSBox.react","IGDThreadTitleAndPresence.react","LSMessagingThreadTypeUtil","react","useIGDChatTabsEntrypointUrl.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.thread,e=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),f=c("useIGDChatTabsEntrypointUrl.react")();a=k(function(){e==null||e({threadKey:(i||(i=d("I64"))).to_string(b.threadKey),type:"close_tab"})},[e,b.threadKey]);var g=d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType),h=d("IGDNavigation").useIGDNavigation(),l=k(function(){h.openInbox({threadKey:b.threadKey,threadType:b.threadType},"igdChatTabsThreadView",void 0,void 0,void 0,f)},[f,h,b.threadKey,b.threadType]),m=k(function(){e==null||e({threadKey:(i||(i=d("I64"))).to_string(b.threadKey),type:"close_tab"}),e==null||e({type:"open_view",view:d("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[e,b.threadKey]);g=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[g?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:b,children:j.jsx(c("IGDChatTabsAvatar.react"),{thread:b})}):j.jsx(c("IGDChatTabsAvatar.react"),{thread:b}),j.jsx(c("IGDSBox.react"),{marginStart:3,maxWidth:168,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:!1,thread:b})})]});return j.jsx(c("IGDChatTabsHeader.react"),{headerContent:g,headerType:"thread_view",onClose:a,onExpand:l,onGoBack:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDChatTabsThreadViewAvoidParentScroll.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=i(function(b){if(a==null||a.current==null)return;var c=a.current.getScrollAreaElement();if(c instanceof HTMLElement){var d=c.scrollTop,e=c.scrollHeight;c=c.getBoundingClientRect().height;var f=b.deltaY;f=f<0;var g=function(a){a.stopPropagation(),a.preventDefault()};if(!f&&c+1>=e-d)return g(b);else if(f&&d===0)return g(b)}},[a]);j(function(){if(a==null||a.current==null)return;var c=a.current.getScrollAreaElement();c==null||c.addEventListener("wheel",b);return function(){c==null||c.removeEventListener("wheel",b)}},[b,a])}g["default"]=a}),98);
__d("IGDChatTabsThreadDetail.react",["CometPlaceholder.react","CometRelay","IGDBlockedBroadcastThreadDetail.react","IGDChatTabsThreadDetail_SlideThread.graphql","IGDChatTabsThreadHeaderContainer.react","IGDComposerCommon.react","IGDConnectionStatusCard.react","IGDInteractionTraceAnnotations","IGDMessageRequestComposerBannerLoading.react","IGDNewMessageAnnouncementForScreenReaders.react","IGDOpenMessageListContainer.react","IGDSBox.react","IGDThreadlineContext","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWChatFocusComposerContext","MWLSDatabaseLazySync","MWPReplyContext.react","MWV2FileDropzone.react","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10749","cr:1365","cr:15968","cr:4232","cr:7273","cr:8899","deferredLoadComponent","promiseDone","qex","react","requireDeferred","requireDeferredForDisplay","useIGDBroadcastChannelOpenThreadLogger","useIGDChatTabsThreadViewAvoidParentScroll.react","useIGDIsViewerAdmin","useMWAriaLabelForThread","useShouldShowTextOnlyComposerForInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useRef,p=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("IGDChatTabsThreadDetail.react"),q=(e=b("cr:7273"))!=null?e:b("cr:10749"),r=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDChatTabsThreadDetail.react")),s={main:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function t(a){var e=a.loadThreadlineQueries,g=a.slideThreadRef,i=a.thread,t=a.threadlineQueryRef;a=a.threadlineSuggestedQueryRef;g=d("CometRelay").useFragment(h!==void 0?h:h=b("IGDChatTabsThreadDetail_SlideThread.graphql"),g);var u=m(d("MWPReplyContext.react").MWPReplyContext);u=u.reply;var v=m(d("IGDThreadlineContext").ThreadlineShouldShowContext);v=v.shouldShowThreadline;d("IGDInteractionTraceAnnotations").useAddThreadAnnotationToInteractionTraces(i);c("useIGDBroadcastChannelOpenThreadLogger")(i);b("cr:8899")(i);var w=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(i.threadSubtype),x=c("useMWAriaLabelForThread")(i),y=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(i),z=o(null),A=l(function(){var a;(a=z.current)==null||a.jumpToMostRecentMessage()},[]),B=k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("IGDMessageRequestComposerBannerLoading.react"),{}),name:f.id,children:k.jsx(r,{thread:i})});g=b("cr:15968")!=null?k.jsx(b("cr:15968"),{afterSendMessage:A,slideThreadRef:g==null?void 0:g.slide_thread,thread:i}):k.jsx(c("IGDComposerCommon.react"),{afterSendMessage:A,thread:i});var C=d("LSThreadBitOffset").has(139,i);n(function(){if(C){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield p.load());a=(yield a());return d("MWLSDatabaseLazySync").sync(a,(j||(j=d("LSIntEnum"))).ofNumber(118))});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())}},[C]);A=o(null);var D=c("useShouldShowTextOnlyComposerForInvite")(i.threadKey,i.threadType);c("useIGDChatTabsThreadViewAvoidParentScroll.react")(z);return k.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:k.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view",children:[q&&k.jsx(q,{thread:i}),k.jsx(c("IGDChatTabsThreadHeaderContainer.react"),{thread:i}),k.jsxs(c("IGDSBox.react"),{accessibilityLabel:x,containerRef:A,"data-testid":void 0,direction:"row",flex:"grow",children:[k.jsxs(c("IGDSBox.react"),{flex:"grow",xstyle:s.main,children:[k.jsx(c("IGDConnectionStatusCard.react"),{}),k.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:D||u!=null,isMediaOnly:!d("LSThreadBitOffset").has(56,i)||c("qex")._("842")===!0,thread:i,children:[k.jsx(c("IGDOpenMessageListContainer.react"),{loadThreadlineQueries:e,readOnlyFeatureLimitRef:null,ref:z,thread:i,threadMessageListRef:null}),w&&b("cr:1365")!=null?k.jsx(b("cr:1365"),{thread:i}):null,y?B:g]})]}),v&&b("cr:4232")&&t!=null&&a!=null?k.jsx(b("cr:4232"),{queryRef:t,suggestedQueryRef:a,thread:i}):null]}),k.jsx(c("IGDNewMessageAnnouncementForScreenReaders.react"),{thread:i})]})})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.loadThreadlineQueries,e=a.slideThreadRef,f=a.thread,g=a.threadlineQueryRef;a=a.threadlineSuggestedQueryRef;var h=c("useIGDIsViewerAdmin")(f.threadKey),i=f.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f.threadSubtype);return i&&!h?k.jsx(c("IGDBlockedBroadcastThreadDetail.react"),{thread:f}):k.jsx(t,{loadThreadlineQueries:b,slideThreadRef:e,thread:f,threadlineQueryRef:g,threadlineSuggestedQueryRef:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadViewNullState.react",["IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(){var a=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),b=k(function(){a==null||a({type:"reset_state"})},[a]),e=k(function(){a==null||a({type:"reset_state"}),a==null||a({type:"open_view",view:d("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[a]);return j.jsxs(j.Fragment,{children:[j.jsx(c("IGDChatTabsHeader.react"),{headerType:"thread_view_null_state",onClose:b,onGoBack:e}),j.jsx(c("IGDNullState.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadContainer.react",["CometRelay","I64","IGDChatTabsThreadContainer_SlideThread.graphql","IGDChatTabsThreadDetail.react","IGDChatTabsThreadViewNullState.react","IGDThreadDetailContextWrapper.react","IGDThreadlineContainerQuery","IGDThreadlineContextProvider","LSFactory","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.memo,n=e.useCallback,o=e.useEffect;function a(a){var e=a.slideThreadRef;a=a.threadKey;var g=d("useStableValue").useStableI64(a),k=(i||(i=c("useReStore")))(),m=n(function(a){return k.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("I64"))).of_int32(1),threadKey:a})},"readwrite",void 0,void 0,f.id+":49")},[k]);o(function(){c("promiseDone")(m(g))},[g,m]);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.threads,["consistentThreadFbid","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadSubtype","threadType","threadName","parentThreadKey","folderName","inviterId","snippetSenderContactId","memberCount","pauseThreadTimestamp","authorityLevel","threadStatus","eventStartTimestampMs","cannotReplyReason","themeFbid","isHidden","cannotUnsendReason","metadata","ongoingCallTimestampMs"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(g)},[k,g],f.id+":62");e=d("CometRelay").useFragment(h!==void 0?h:h=b("IGDChatTabsThreadContainer_SlideThread.graphql"),e);var p=d("CometRelay").useQueryLoader(d("IGDThreadlineContainerQuery").IGDThreadlineContainerChatQuery),q=p[0];p=p[1];var r=d("CometRelay").useQueryLoader(d("IGDThreadlineContainerQuery").IGDThreadlineContainerSuggestedQuery),s=r[0];r=r[1];p={loadChatReels:p,loadSuggestedReels:r};if(a!=null)return l.jsx(c("IGDThreadDetailContextWrapper.react"),{thread:a,children:l.jsx(c("IGDThreadlineContextProvider"),{children:l.jsx(c("IGDChatTabsThreadDetail.react"),{loadThreadlineQueries:p,slideThreadRef:e,thread:a,threadlineQueryRef:q,threadlineSuggestedQueryRef:s})})});else return l.jsx(c("IGDChatTabsThreadViewNullState.react"),{})}a.displayName=a.name+" [from "+f.id+"]";e=m(a);g["default"]=e}),98);
__d("IGDChatTabMsys.react",["I64","IGDChatTabSingleTabContainer.react","IGDChatTabsThreadContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){a=a.threadKey;return j.jsx(c("IGDChatTabSingleTabContainer.react"),{"data-testid":void 0,children:j.jsx(c("IGDChatTabsThreadContainer.react"),{threadKey:(i||(i=d("I64"))).of_string(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);